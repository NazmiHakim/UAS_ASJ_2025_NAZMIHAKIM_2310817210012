{% extends 'layout.html' %}

{% block title %}
Edit Pahlawan - {{ hero.name }}
{% endblock %}

{% block content %}
<h1 class="text-white">Edit Profil Pahlawan</h1>
<p class="text-muted">Perbarui catatan untuk {{ hero.name }}.</p>

<div class="card bg-dark text-white">
    <div class="card-body">
        <div class="text-center mb-4">
            <img src="{{ url_for('hero_photo', id=hero.id) }}" class="img-thumbnail" alt="Foto {{ hero.name }}" style="width: 150px; height: 150px; object-fit: cover;">
        </div>
        <form action="{{ url_for('edit', id=hero.id) }}" method="post" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="hero_name" class="form-label">Nama Pahlawan</label>
                <input type="text" class="form-control" id="hero_name" name="hero_name" value="{{ hero.name }}" required>
            </div>
            <div class="mb-3">
                <label for="hero_title" class="form-label">Gelar Pahlawan (Opsional)</label>
                <input type="text" class="form-control" id="hero_title" name="hero_title" value="{{ hero.title or '' }}">
            </div>
            <div class="mb-3">
                <label for="hero_race" class="form-label">Ras</label>
                <input type="text" class="form-control" id="hero_race" name="hero_race" value="{{ hero.race }}" required>
            </div>
            <div class="mb-3">
                <label for="hero_skill" class="form-label">Keahlian Utama</label>
                <input type="text" class="form-control" id="hero_skill" name="hero_skill" value="{{ hero.skill }}" required>
            </div>
            <div class="mb-3">
                <label for="hero_gender" class="form-label">Gender</label>
                <select name="hero_gender" id="hero_gender" class="form-select">
                    <option value="Laki-laki" {% if hero.gender == 'Laki-laki' %}selected{% endif %}>Laki-laki</option>
                    <option value="Perempuan" {% if hero.gender == 'Perempuan' %}selected{% endif %}>Perempuan</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="hero_rank" class="form-label">Rank</label>
                <select name="hero_rank" id="hero_rank" class="form-select">
                    <option value="S" {% if hero.rank == 'S' %}selected{% endif %}>S</option>
                    <option value="A" {% if hero.rank == 'A' %}selected{% endif %}>A</option>
                    <option value="B" {% if hero.rank == 'B' %}selected{% endif %}>B</option>
                    <option value="C" {% if hero.rank == 'C' %}selected{% endif %}>C</option>
                    <option value="D" {% if hero.rank == 'D' %}selected{% endif %}>D</option>
                    <option value="E" {% if hero.rank == 'E' %}selected{% endif %}>E</option>
                    <option value="F" {% if hero.rank == 'F' %}selected{% endif %}>F</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="hero_photo" class="form-label">Ganti Foto (Opsional)</label>
                <input type="file" class="form-control" name="hero_photo" id="hero_photo">
            </div>
            <button type="submit" class="btn btn-success">
                <i class="bi bi-save"></i> Simpan Perubahan
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Batal</a>
        </form>
    </div>
</div>
{% endblock %}